<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìµëª… ê²Œì‹œíŒ</title>
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, sans-serif; background: #f5f7fa; padding: 20px; }
        .container { max-width: 600px; margin: 0 auto; }
        .header { text-align: center; padding: 20px; background: white; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .tabs { display: flex; gap: 10px; margin-bottom: 20px; background: white; padding: 10px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        .tab { flex: 1; padding: 12px; border: none; border-radius: 8px; font-size: 1rem; font-weight: 600; cursor: pointer; background: #f5f7fa; color: #7f8c8d; transition: all 0.3s; }
        .tab.active { background: linear-gradient(135deg, #4a90e2 0%, #357abd 100%); color: white; }
        .card { background: white; padding: 25px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-bottom: 20px; }
        input, textarea, select { width: 100%; padding: 12px; border: 2px solid #e8e8e8; border-radius: 8px; font-size: 1rem; margin-bottom: 10px; font-family: inherit; }
        textarea { min-height: 100px; resize: vertical; }
        .btn { width: 100%; padding: 14px; background: #4a90e2; color: white; border: none; border-radius: 8px; font-size: 1rem; font-weight: bold; cursor: pointer; transition: all 0.3s; }
        .btn:hover { background: #357abd; transform: translateY(-2px); }
        .btn:disabled { background: #ccc; cursor: not-allowed; transform: none; }
        .btn-small { width: auto; padding: 8px 15px; font-size: 0.9rem; }
        .post { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); margin-bottom: 15px; }
        .post-header { display: flex; justify-content: space-between; margin-bottom: 10px; font-size: 0.9rem; color: #666; }
        .post-footer { display: flex; gap: 10px; margin-top: 15px; padding-top: 15px; border-top: 1px solid #f0f0f0; }
        .reaction { padding: 8px 12px; background: #f8f9fa; border: 1px solid #e8e8e8; border-radius: 20px; cursor: pointer; font-size: 0.9rem; transition: all 0.3s; }
        .reaction:hover { background: #e8ecef; transform: scale(1.05); }
        .comments { background: #f8f9fa; padding: 15px; border-radius: 8px; margin-top: 15px; }
        .comment { background: white; padding: 12px; border-radius: 8px; margin-bottom: 10px; }
        .comment-header { font-size: 0.85rem; color: #666; margin-bottom: 5px; }
        .comment-input { display: flex; gap: 10px; margin-top: 10px; }
        .game-box { background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); border-radius: 15px; padding: 30px; color: white; }
        .game-title { text-align: center; font-size: 1.8rem; color: #ffd700; margin-bottom: 10px; text-shadow: 0 0 20px rgba(255,215,0,0.5); }
        .stage-info { text-align: center; background: rgba(255,255,255,0.05); padding: 15px; border-radius: 12px; margin: 20px 0; border: 1px solid rgba(255,255,255,0.1); }
        .story { background: rgba(255,255,255,0.08); padding: 20px; border-radius: 12px; margin: 15px 0; line-height: 1.8; border-left: 4px solid #ffd700; }
        .clue { background: rgba(100,200,255,0.1); padding: 15px; border-radius: 8px; margin: 15px 0; border-left: 3px solid #64c8ff; }
        .hint-btn { padding: 10px 20px; background: rgba(100,200,255,0.2); border: 1px solid #64c8ff; border-radius: 8px; color: #64c8ff; cursor: pointer; font-size: 0.9rem; margin: 10px 5px; }
        .game-input { background: rgba(255,255,255,0.1); color: white; border: 2px solid rgba(255,215,0,0.3); text-align: center; letter-spacing: 2px; }
        .game-input:focus { border-color: #ffd700; box-shadow: 0 0 15px rgba(255,215,0,0.3); outline: none; }
        .evidence { background: rgba(255,215,0,0.1); padding: 10px 15px; border-radius: 8px; border: 1px solid #ffd700; margin: 5px; font-size: 0.9rem; }
        .fortune-score { padding: 5px 15px; background: #4a90e2; color: white; border-radius: 20px; font-size: 0.85rem; font-weight: bold; }
    </style>
</head>
<body>
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect } = React;
        
        const firebaseConfig = {
            apiKey: "AIzaSyDh3FsyWVZqy8wGExv-IlAglJ0DERuW_T8",
            authDomain: "ccccc-74256.firebaseapp.com",
            databaseURL: "https://ccccc-74256-default-rtdb.firebaseio.com",
            projectId: "ccccc-74256"
        };
        
        if (!firebase.apps.length) firebase.initializeApp(firebaseConfig);
        const db = firebase.database();
        
        function App() {
            const [tab, setTab] = useState('board');
            const [posts, setPosts] = useState([]);
            const [content, setContent] = useState('');
            const [loading, setLoading] = useState(true);
            const [pw, setPw] = useState('');
            const [verified, setVerified] = useState(false);
            const [openComments, setOpenComments] = useState({});
            const [commentInputs, setCommentInputs] = useState({});
            
            // ê²Œì„
            const [stage, setStage] = useState(1);
            const [answer, setAnswer] = useState('');
            const [complete, setComplete] = useState(false);
            const [hints, setHints] = useState(0);
            const [evidence, setEvidence] = useState([]);
            const [startTime] = useState(Date.now());
            
            // ìš´ì„¸
            const [fortuneType, setFortuneType] = useState('zodiac');
            const [sign, setSign] = useState('');
            const [fortune, setFortune] = useState(null);
            
            const gameData = {
                "1": { 
                    title: "ì•”í˜¸ë¬¸ í•´ë…",
                    story: "ë²½ì— ì“°ì¸ ì•”í˜¸: 'JAMES(3ì›”) + OLIVIA(ë³´í˜¸ì0) + JAMES(2ë²ˆì§¸)' â†’ ê° ì •ë³´ì˜ ìˆ«ìë¥¼ ì—°ê²°í•˜ë¼",
                    q: "302í˜¸ì‹¤ ì…êµ¬ ì•”í˜¸ (3ìë¦¬)",
                    a: "302",
                    hints: ["ì…ì› ì›”ê³¼ ë³´í˜¸ì ìˆ˜ë¥¼ ë³´ë¼", "ì œì„ìŠ¤ëŠ” ëª…ë‹¨ì— 2ë²ˆ ë‚˜ì˜¨ë‹¤", "ë‹µ: 302"]
                },
                "2": { 
                    title: "í™˜ì ê¸°ë¡",
                    story: "ì¼ê¸°: 'ë‚˜ëŠ” íˆ¬ëª…í•˜ë‹¤. ê±°ìš¸ì— ë¹„ì¹˜ì§€ ì•ŠëŠ”ë‹¤.' í™˜ìëª…ë‹¨: ì‚¬ë¼(íˆ¬ëª…ì¸ê°„ë§ìƒ), ì—ë°€ë¦¬(ì½”íƒ€ë¥´ì¦í›„êµ°), ë£¨ì‹œ(ì¹´í”„ê·¸ë¼ì¦í›„êµ°)",
                    q: "ì¼ê¸°ë¥¼ ì“´ ì‚¬ëŒì€? (ì´ë¦„ë§Œ)",
                    a: "ì‚¬ë¼",
                    hints: ["íˆ¬ëª…ì¸ê°„ ì¦ìƒì€?", "ì½”íƒ€ë¥´ëŠ” ì£½ìŒ, ì¹´í”„ê·¸ë¼ëŠ” ë³€ì¥", "ë‹µ: ì‚¬ë¼"]
                },
                "3": { 
                    title: "í™”í•™ì‹ ë¶„ì„",
                    story: "ì•½ë¬¼ ì„±ë¶„í‘œ: [A]lkaloid [T]ropane [R]acemic [O]xygen [P]arasympathetic [I]on [N]eurotoxic [E]xtracted â†’ ê° ì²« ê¸€ì ì¡°í•©",
                    q: "Compound X-7ì˜ ì§„ì§œ ì´ë¦„? (ì˜ì–´)",
                    a: "atropine",
                    hints: ["ê° ë‹¨ì–´ì˜ ì²« ê¸€ìë¥¼ ë³´ë¼", "8ê¸€ì ë…ê·¹ë¬¼", "ë‹µ: atropine"]
                },
                "4": { 
                    title: "ì‹œê°„ ê³„ì‚°",
                    story: "ê³µì‹ ê¸°ë¡: 10/31(í† ) ì‚¬ë§. ë‚´ë¶€ ë©”ëª¨: '4ì¼ ì „ì— ì‹¤ì œ ì‚¬ë§, ì‹œì²´ ëƒ‰ë™ ë³´ê´€'. ê·¼ë¬´í‘œ: í™”ìš”ì¼ì€ 1ëª…ë§Œ ê·¼ë¬´",
                    q: "ì‹¤ì œ ì‚¬ë§ì¼ì€? (ì›”/ì¼ í˜•ì‹)",
                    a: "10/27",
                    hints: ["í† ìš”ì¼ì—ì„œ 4ì¼ ì „ì€?", "10/31 - 4ì¼", "ë‹µ: 10/27"]
                },
                "5": { 
                    title: "ìš”ì¼ ê³„ì‚°",
                    story: "10/27ì— ì‚¬ë§í–ˆë‹¤ë©´ ë¬´ìŠ¨ ìš”ì¼? 10/31ì€ í† ìš”ì¼. 4ì¼ ì „ ê³„ì‚° í•„ìš”.",
                    q: "10/27ì€ ë¬´ìŠ¨ ìš”ì¼? (í•œê¸€)",
                    a: "í™”ìš”ì¼",
                    hints: ["í† -ê¸ˆ-ëª©-ìˆ˜-?", "4ì¼ ê±°ìŠ¬ëŸ¬ ì˜¬ë¼ê°€ë©´", "ë‹µ: í™”ìš”ì¼"]
                },
                "6": { 
                    title: "ì§ì±… ì¶”ë¦¬",
                    story: "í™”ìš”ì¼ ì•¼ê°„ì€ ê°„í˜¸ì‚¬ 1ëª…ë§Œ ê·¼ë¬´. ì•½ë¬¼ íˆ¬ì—¬ëŠ” ê°„í˜¸ì‚¬ê°€ ì‹¤í–‰. ì˜ì‚¬ëŠ” ì£¼ê°„ë§Œ ê·¼ë¬´.",
                    q: "ë…ê·¹ë¬¼ì„ íˆ¬ì—¬í•  ìˆ˜ ìˆì—ˆë˜ ì§ì±…? (í•œê¸€)",
                    a: "ê°„í˜¸ì‚¬",
                    hints: ["ì•¼ê°„ì— ì•½ì„ ì¤€ ì‚¬ëŒ", "ì˜ì‚¬ëŠ” ë°¤ì— ì—†ë‹¤", "ë‹µ: ê°„í˜¸ì‚¬"]
                },
                "7": { 
                    title: "í˜ˆì•¡í˜• ë§¤ì¹­",
                    story: "ì¦ê±° ì¥ê°‘ì˜ í˜ˆì•¡í˜•: Bí˜•. ì§ì› ëª…ë‹¨: ìœŒë¦¬ì—„(A), ë¡œë²„íŠ¸(O), ì œë‹ˆí¼(B), ë©”ë¦¬(AB), ìˆ˜ì”(O)",
                    q: "Bí˜• ì§ì›ì˜ ì´ë¦„? (ë„ì–´ì“°ê¸°X)",
                    a: "ì œë‹ˆí¼",
                    hints: ["Bí˜•ì€ í•œ ëª…ë¿", "ê°„í˜¸ì‚¬ ì¤‘ì—ì„œ", "ë‹µ: ì œë‹ˆí¼"]
                },
                "8": { 
                    title: "ìµœì¢… ì¶”ë¦¬",
                    story: "ì¦ê±° ì¢…í•©: í™”ìš”ì¼ ë‹¨ë…ê·¼ë¬´ + Bí˜• í˜ˆì•¡ + ê°„í˜¸ì‚¬ì¥ + 25ì–µ ë³´í—˜ê¸ˆ ìˆ˜í˜œì = ?",
                    q: "ë²”ì¸ì˜ í’€ë„¤ì„? (ë„ì–´ì“°ê¸°X)",
                    a: "ì œë‹ˆí¼ë¸Œë¼ìš´",
                    hints: ["ì„±ì€ Brown", "ê°„í˜¸ì‚¬ì¥ ì œë‹ˆí¼", "ë‹µ: ì œë‹ˆí¼ë¸Œë¼ìš´"]
                }
            };
            
            const zodiac = ['ì–‘ìë¦¬','í™©ì†Œìë¦¬','ìŒë‘¥ì´ìë¦¬','ê²Œìë¦¬','ì‚¬ììë¦¬','ì²˜ë…€ìë¦¬','ì²œì¹­ìë¦¬','ì „ê°ˆìë¦¬','ì‚¬ìˆ˜ìë¦¬','ì—¼ì†Œìë¦¬','ë¬¼ë³‘ìë¦¬','ë¬¼ê³ ê¸°ìë¦¬'];
            const chinese = ['ì¥ë ','ì†Œë ','í˜¸ë‘ì´ë ','í† ë¼ë ','ìš©ë ','ë±€ë ','ë§ë ','ì–‘ë ','ì›ìˆ­ì´ë ','ë‹­ë ','ê°œë ','ë¼ì§€ë '];
            const blood = ['Aí˜•','Bí˜•','Oí˜•','ABí˜•'];
            
            useEffect(() => {
                const ref = db.ref('posts');
                ref.on('value', (snap) => {
                    const data = snap.val();
                    if (data) {
                        const arr = Object.keys(data).map(k => ({id: k, ...data[k]})).sort((a,b) => b.timestamp - a.timestamp);
                        setPosts(arr);
                    }
                    setLoading(false);
                });
                return () => ref.off();
            }, []);
            
            const submit = () => {
                if (!content.trim()) return;
                db.ref('posts').push({ content: content.trim(), timestamp: Date.now(), reactions: {hug:0,cheer:0}, comments: {} });
                setContent('');
            };
            
            const react = (id, type) => {
                const post = posts.find(p => p.id === id);
                db.ref(`posts/${id}/reactions/${type}`).set((post.reactions?.[type] || 0) + 1);
            };
            
            const toggleComments = (id) => {
                setOpenComments({...openComments, [id]: !openComments[id]});
            };
            
            const addComment = (postId) => {
                const text = commentInputs[postId];
                if (!text?.trim()) return;
                db.ref(`posts/${postId}/comments`).push({ content: text.trim(), timestamp: Date.now() });
                setCommentInputs({...commentInputs, [postId]: ''});
            };
            
            const checkPw = () => {
                if (pw === '4485') setVerified(true);
            };
            
            const showHint = () => {
                if (hints >= 3) return alert('íŒíŠ¸ë¥¼ ëª¨ë‘ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤!');
                alert('ğŸ’¡ ' + gameData[stage].hints[hints]);
                setHints(hints + 1);
            };
            
            const checkAnswer = () => {
                const input = answer.toLowerCase().trim().replace(/\s/g, '');
                const correct = gameData[stage].a.toLowerCase().replace(/\s/g, '');
                
                if (input === correct) {
                    if (stage < 8) {
                        setEvidence([...evidence, `Stage ${stage} ì™„ë£Œ`]);
                        setStage(stage + 1);
                        setAnswer('');
                        setHints(0);
                    } else {
                        setComplete(true);
                    }
                } else {
                    alert('âŒ í‹€ë ¸ìŠµë‹ˆë‹¤!');
                    setAnswer('');
                }
            };
            
            const resetGame = () => {
                setStage(1);
                setAnswer('');
                setHints(0);
                setEvidence([]);
                setComplete(false);
            };
            
            const getFortune = () => {
                if (!sign) return;
                const seed = new Date().toDateString() + sign;
                let h = 0;
                for (let i = 0; i < seed.length; i++) h = ((h << 5) - h) + seed.charCodeAt(i);
                const rand = (n) => Math.abs(h * (n+1)) % n;
                
                const scores = ['ìµœì•…','ë‚˜ì¨','ë³´í†µ','ì¢‹ìŒ','ë§¤ìš°ì¢‹ìŒ','ëŒ€ê¸¸'];
                const colors = ['ë¹¨ê°•','íŒŒë‘','ë…¸ë‘','ì´ˆë¡','ë³´ë¼','ë¶„í™'];
                const nums = Array.from({length:45}, (_,i) => i+1);
                
                setFortune({
                    overall: scores[rand(6)],
                    love: scores[rand(6)],
                    money: scores[rand(6)],
                    health: scores[rand(6)],
                    color: colors[rand(6)],
                    number: nums[rand(45)]
                });
            };
            
            if (!verified) {
                return (
                    <div className="container">
                        <div className="card" style={{textAlign:'center', marginTop:'100px'}}>
                            <h2>ğŸ” ì¸ì¦</h2>
                            <p style={{color:'#666', margin:'15px 0'}}>íŒíŠ¸: ì˜µë¹ </p>
                            <input type="password" value={pw} onChange={e=>setPw(e.target.value)} onKeyPress={e=>e.key==='Enter'&&checkPw()} placeholder="ë¹„ë°€ë²ˆí˜¸" />
                            <button className="btn" onClick={checkPw}>í™•ì¸</button>
                        </div>
                    </div>
                );
            }
            
            return (
                <div className="container">
                    <div className="header">
                        <h1>ğŸ“‹ ìµëª… ê²Œì‹œíŒ</h1>
                    </div>
                    
                    <div className="tabs">
                        <button className={`tab ${tab==='board'?'active':''}`} onClick={()=>setTab('board')}>ğŸ“ ê²Œì‹œíŒ</button>
                        <button className={`tab ${tab==='fortune'?'active':''}`} onClick={()=>setTab('fortune')}>ğŸ”® ìš´ì„¸</button>
                        <button className={`tab ${tab==='game'?'active':''}`} onClick={()=>setTab('game')}>ğŸ® ë°©íƒˆì¶œ</button>
                    </div>
                    
                    {tab === 'board' && (
                        <>
                            <div className="card">
                                <h3>âœï¸ ê¸€ ì‘ì„±</h3>
                                <textarea value={content} onChange={e=>setContent(e.target.value)} placeholder="ë‚´ìš© ì…ë ¥..." maxLength={500} />
                                <div style={{textAlign:'right',fontSize:'0.9rem',color:'#666',marginBottom:'10px'}}>{content.length}/500</div>
                                <button className="btn" onClick={submit} disabled={!content.trim()}>ê²Œì‹œí•˜ê¸°</button>
                            </div>
                            <h3 style={{marginBottom:'15px'}}>ğŸ“ ê²Œì‹œê¸€ ({posts.length})</h3>
                            {loading ? <div className="card">ë¡œë”©ì¤‘...</div> : posts.length === 0 ? <div className="card">ê²Œì‹œê¸€ì´ ì—†ìŠµë‹ˆë‹¤.</div> : posts.map(p => (
                                <div key={p.id} className="post">
                                    <div className="post-header">
                                        <strong>ìµëª…</strong>
                                        <span>{new Date(p.timestamp).toLocaleString('ko-KR')}</span>
                                    </div>
                                    <div style={{lineHeight:'1.6'}}>{p.content}</div>
                                    <div className="post-footer">
                                        <span className="reaction" onClick={()=>react(p.id,'hug')}>ğŸ¤— {p.reactions?.hug || 0}</span>
                                        <span className="reaction" onClick={()=>react(p.id,'cheer')}>ğŸ’ª {p.reactions?.cheer || 0}</span>
                                        <span className="reaction" onClick={()=>toggleComments(p.id)}>ğŸ’¬ ëŒ“ê¸€ {p.comments ? Object.keys(p.comments).length : 0}</span>
                                    </div>
                                    {openComments[p.id] && (
                                        <div className="comments">
                                            {p.comments && Object.keys(p.comments).map(cid => {
                                                const c = p.comments[cid];
                                                return (
                                                    <div key={cid} className="comment">
                                                        <div className="comment-header">{new Date(c.timestamp).toLocaleString('ko-KR')}</div>
                                                        <div>{c.content}</div>
                                                    </div>
                                                );
                                            })}
                                            <div className="comment-input">
                                                <input 
                                                    value={commentInputs[p.id] || ''} 
                                                    onChange={e=>setCommentInputs({...commentInputs, [p.id]: e.target.value})}
                                                    onKeyPress={e=>e.key==='Enter'&&addComment(p.id)}
                                                    placeholder="ëŒ“ê¸€ ì…ë ¥..."
                                                    style={{flex:1}}
                                                />
                                                <button className="btn btn-small" onClick={()=>addComment(p.id)}>ì‘ì„±</button>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            ))}
                        </>
                    )}
                    
                    {tab === 'fortune' && (
                        <div className="card">
                            <h2 style={{textAlign:'center',marginBottom:'20px'}}>ğŸ”® ì˜¤ëŠ˜ì˜ ìš´ì„¸</h2>
                            <p style={{textAlign:'center',color:'#666',marginBottom:'20px'}}>{new Date().toLocaleDateString('ko-KR')}</p>
                            
                            <div style={{display:'flex',gap:'10px',marginBottom:'15px'}}>
                                <button className="btn" style={{flex:1}} onClick={()=>{setFortuneType('zodiac');setSign('');setFortune(null);}}>â­ ë³„ìë¦¬</button>
                                <button className="btn" style={{flex:1}} onClick={()=>{setFortuneType('chinese');setSign('');setFortune(null);}}>ğŸ² ë </button>
                                <button className="btn" style={{flex:1}} onClick={()=>{setFortuneType('blood');setSign('');setFortune(null);}}>ğŸ©¸ í˜ˆì•¡í˜•</button>
                            </div>
                            
                            <select value={sign} onChange={e=>setSign(e.target.value)}>
                                <option value="">ì„ íƒí•˜ì„¸ìš”</option>
                                {(fortuneType==='zodiac'?zodiac:fortuneType==='chinese'?chinese:blood).map(s=><option key={s} value={s}>{s}</option>)}
                            </select>
                            
                            <button className="btn" onClick={getFortune} disabled={!sign}>ğŸ”® ìš´ì„¸ ë³´ê¸°</button>
                            
                            {fortune && (
                                <div style={{marginTop:'20px',padding:'20px',background:'#f8f9fa',borderRadius:'12px'}}>
                                    <h3 style={{textAlign:'center',marginBottom:'15px'}}>{sign}</h3>
                                    <div style={{marginBottom:'15px'}}>
                                        <div style={{display:'flex',justifyContent:'space-between',marginBottom:'8px'}}>
                                            <strong>ğŸ’« ì¢…í•©ìš´</strong>
                                            <span className="fortune-score">{fortune.overall}</span>
                                        </div>
                                        <div style={{display:'flex',justifyContent:'space-between',marginBottom:'8px'}}>
                                            <strong>ğŸ’• ì• ì •ìš´</strong>
                                            <span className="fortune-score">{fortune.love}</span>
                                        </div>
                                        <div style={{display:'flex',justifyContent:'space-between',marginBottom:'8px'}}>
                                            <strong>ğŸ’° ê¸ˆì „ìš´</strong>
                                            <span className="fortune-score">{fortune.money}</span>
                                        </div>
                                        <div style={{display:'flex',justifyContent:'space-between',marginBottom:'8px'}}>
                                            <strong>ğŸ¥ ê±´ê°•ìš´</strong>
                                            <span className="fortune-score">{fortune.health}</span>
                                        </div>
                                    </div>
                                    <div style={{background:'white',padding:'15px',borderRadius:'8px'}}>
                                        <div style={{textAlign:'center',marginBottom:'10px'}}><strong>âœ¨ í–‰ìš´ ì•„ì´í…œ</strong></div>
                                        <div style={{display:'flex',justifyContent:'space-around'}}>
                                            <div style={{textAlign:'center'}}>
                                                <div style={{fontSize:'0.8rem',color:'#666'}}>ìƒ‰</div>
                                                <div style={{fontWeight:'bold'}}>{fortune.color}</div>
                                            </div>
                                            <div style={{textAlign:'center'}}>
                                                <div style={{fontSize:'0.8rem',color:'#666'}}>ìˆ«ì</div>
                                                <div style={{fontWeight:'bold'}}>{fortune.number}</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                        </div>
                    )}
                    
                    {tab === 'game' && (
                        <div className="game-box">
                            {!complete ? (
                                <>
                                    <div className="game-title">ğŸ¥ ì •ì‹ ë³‘ì› ë¯¸ìŠ¤í„°ë¦¬</div>
                                    <div className="stage-info">
                                        <div style={{fontSize:'1.1rem',color:'#ffd700',marginBottom:'8px'}}>{gameData[stage].title}</div>
                                        <div style={{fontSize:'0.9rem',color:'#64c8ff'}}>Stage {stage}/8 | íŒíŠ¸: {hints}/3</div>
                                    </div>
                                    <div className="story">{gameData[stage].story}</div>
                                    <div className="clue">â“ {gameData[stage].q}</div>
                                    <input 
                                        className="game-input"
                                        value={answer} 
                                        onChange={e=>setAnswer(e.target.value)} 
                                        onKeyPress={e=>e.key==='Enter'&&checkAnswer()}
                                        placeholder="ë‹µ ì…ë ¥..." 
                                    />
                                    <button className="btn" onClick={checkAnswer} style={{background:'linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)',color:'#1a1a2e',marginBottom:'10px'}}>í™•ì¸ ğŸ”</button>
                                    <div style={{textAlign:'center'}}>
                                        <button className="hint-btn" onClick={showHint}>ğŸ’¡ íŒíŠ¸ ë³´ê¸° ({hints}/3)</button>
                                    </div>
                                    {evidence.length > 0 && (
                                        <div style={{marginTop:'20px'}}>
                                            <div style={{color:'#ffd700',marginBottom:'10px',fontSize:'1.1rem'}}>ğŸ” ìˆ˜ì§‘í•œ ì¦ê±°:</div>
                                            <div style={{display:'flex',flexWrap:'wrap',gap:'8px'}}>
                                                {evidence.map((e,i)=><div key={i} className="evidence">{e}</div>)}
                                            </div>
                                        </div>
                                    )}
                                </>
                            ) : (
                                <div style={{textAlign:'center',padding:'20px'}}>
                                    <h2 style={{color:'#ffd700',marginBottom:'20px'}}>ğŸ‰ ë¯¸ìŠ¤í„°ë¦¬ í•´ê²°! ğŸ‰</h2>
                                    <p style={{marginBottom:'15px',lineHeight:'1.6'}}>
                                        ë²”ì¸ì€ <b>ì œë‹ˆí¼ ë¸Œë¼ìš´</b> ê°„í˜¸ì‚¬ì¥!<br/>
                                        25ì–µì› ë³´í—˜ê¸ˆì„ ë…¸ë¦° ê³„íšì  ë²”í–‰ì´ì—ˆìŠµë‹ˆë‹¤.
                                    </p>
                                    <div style={{color:'#64c8ff',marginBottom:'20px'}}>
                                        â±ï¸ ì†Œìš”ì‹œê°„: {Math.floor((Date.now()-startTime)/60000)}ë¶„
                                    </div>
                                    <button className="btn" onClick={resetGame} style={{background:'linear-gradient(135deg, #ffd700 0%, #ffed4e 100%)',color:'#1a1a2e',maxWidth:'300px',margin:'0 auto'}}>ğŸ”„ ë‹¤ì‹œí•˜ê¸°</button>
                                </div>
                            )}
                        </div>
                    )}
                </div>
            );
        }
        
        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
